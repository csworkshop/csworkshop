<dom-module id="expandable-card">
  <template>
    <style>
      paper-button {
        color: var(--accent-color);
        font-weight: bold;
      }
      paper-card {
        width: 100%;
        margin: 16px auto;
      }
      iron-icon.star {
        --iron-icon-width: 16px;
        --iron-icon-height: 16px;
        color: var(--paper-amber-500);
      }
      .card-light { color: var(--paper-grey-600); }
      .card-header { @apply(--paper-font-headline); }
      .card-title {
        margin: 4px;
        font-size: 16px;
      }
      .event-day {
        float: right;
        font-size: 15px;
        vertical-align: middle;
      }
      iron-icon.star:last-of-type {
        color: var(--paper-grey-500);
      }
    </style>

    <paper-card preloadImage$="[[preloadImage]]" fadeImage$="[[fadeImage]]" image$="[[image]]" pdf$="[[pdf]]" description$="[[description]]" day$="[[day]]" download$="[[download]]">
      <div class="card-content">
        <div class="card-header">[[name]]
          <div class="event-day card-light">
            <iron-icon icon="communication:location-on"></iron-icon>
            <span style="vertical-align:middle;"> <iron-icon icon="date-range"></iron-icon> [[day]]</span>
          </div>
        </div>
        <div class="card-rating">
          <iron-icon class="star" icon="star"></iron-icon>
          <iron-icon class="star" icon="star"></iron-icon>
          <iron-icon class="star" icon="star"></iron-icon>
          <iron-icon class="star" icon="star"></iron-icon>
          <iron-icon class="star" icon="star"></iron-icon>
        </div>
        <p class="card-light">[[description]]</p>
        </div>

        <paper-content>

        <div class="card-actions">
          <paper-button on-click="toggle"><paper-icon-button icon="[[arrowIcon]]"></paper-icon-button>[[exploreButton]]</paper-button>
          <a hidden$="[[!download]]" href="[[download]]" style="float: right;">
            <paper-button href="[[download]]">
              <paper-icon-button icon="file-download"></paper-icon-button>
            </paper-button>
          </a>

          <iron-collapse id="collapse">
            <pdf-object file="[[pdf]]" height="600px"></pdf-object>
          </iron-collapse>
        </div>
      </paper-card>

    <content> </content>

  </template>
  <script>
    Polymer({
      is: 'expandable-card',
      properties: {
        image: {
          type: String,
          value: ''
        },
        name: {
          type: String,
          value: ''
        },
        description: {
          type: String,
          value: ''
        },
        pdf: {
          type: String,
          value: ''
        },
        description: {
          type: String,
          value: ''
        },
        day: {
          type: String,
          value: ''
        },
        preloadImage: {
          type: Boolean,
          value: true
        },
        fadeImage: {
          type: Boolean,
          value: true
        },
        download: {
          type: String,
          value: ''
        },
        exploreButton: {
          type: String,
          value: 'Show PDF'
        },
        arrowIcon: {
          type: String,
          value: 'expand-more'
        }
      },

      toggle: function() {
        this.$.collapse.toggle();
        this.exploreButton = this.$.collapse.opened ? "Hide PDF" : "Show PDF"
        this.arrowIcon = this.$.collapse.opened ? "expand-less" : "expand-more"
      }

    });
  </script>
</dom-module>
